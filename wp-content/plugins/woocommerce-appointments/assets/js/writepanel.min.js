jQuery(function(M){"use strict";var S={init:function(){M("#appointments_availability, #appointments_pricing").on("change",".wc_appointment_availability_type select, .wc_appointment_availability_type input, .wc_appointment_pricing_type select",this.wc_appointments_table_grid),M("#appointments_availability, #appointments_pricing, #appointments_products").on("focus","select, input, button",this.wc_appointments_table_grid_focus),M("body").on("row_added",this.wc_appointments_row_added),M("body").on("woocommerce-product-type-change",this.wc_appointments_trigger_change_events),M("input#_virtual").on("change",this.wc_appointments_trigger_change_events),M("input#_downloadable").on("change",this.wc_appointments_trigger_change_events),M("#_wc_appointment_user_can_cancel").on("change",this.wc_appointments_user_cancel),M("#_wc_appointment_user_can_reschedule").on("change",this.wc_appointments_user_reschedule),M("#product-type").on("change",this.wc_appointments_inventory_show),M("#product-type").on("change",this.wc_appointments_disable_hide),M("#product-type").on("change",this.wc_appointments_addon_style),M("#product-type").on("change",this.wc_appointments_virtual_default),M("#product_addons_data").on("click",".wc-pao-addon-adjust-duration",this.wc_appointments_addon_adjust_duration),M("#product_addons_data").on("change","select.wc-pao-addon-type-select",this.wc_appointments_addon_type),M("#product_addons_data").on("change","select.wc-pao-addon-type-select",this.wc_appointments_addon_label),M("#_wc_appointment_qty").on("change",this.wc_appointments_qty),M("#_wc_appointment_qty_min").on("change",this.wc_appointments_qty_min),M("#_wc_appointment_qty_max").on("change",this.wc_appointments_qty_max),M("body").on("change",".appointments-datetime-select-from :input, .appointments-datetime-select-to :input",this.wc_appointments_rule_range_change),M("#_wc_appointment_has_price_label").on("change",this.wc_appointments_price_label),M("#_wc_appointment_has_pricing").on("change",this.wc_appointments_pricing),M("#_wc_appointment_staff_assignment").on("change",this.wc_appointments_staff_assignment),M("#_wc_appointment_duration_unit").on("change",this.wc_appointment_duration_unit),M("#_wc_appointment_has_restricted_days").on("change",this.wc_appointment_restricted_days),M(".add_grid_row").on("click",this.wc_appointments_table_grid_add_row),M("body").on("click",".remove_grid_row",this.wc_appointments_table_grid_remove_row),M("body").on("click",".manual_sync",this.wc_appointments_manual_sync),M("body").on("click",".oauth_redirect",this.wc_appointments_oauth_redirect),M("#appointments_staff").on("click","button.add_staff",this.wc_appointments_add_staff),M("#appointments_staff").on("click","button.remove_appointment_staff",this.wc_appointments_remove_staff),M("#appointments_products").on("click","button.add_product",this.wc_appointments_add_product),M("#appointments_products").on("click","td.remove_product",this.wc_appointments_remove_product),M("body").on("click","a.edit_billing",this.wc_appointments_edit_billing),S.wc_appointments_trigger_change_events(),S.wc_appointments_price_show(),S.wc_appointments_inventory_show(),S.wc_appointments_disable_hide(),S.wc_appointments_addon_style(),S.wc_appointments_virtual_default(),S.wc_appointments_sortable_rows(),S.wc_appointments_pickers(),S.wc_appointments_twilio_sms(),S.wc_appointments_exporter_title_action(),S.wc_appointments_add_appointment_actions()},wc_appointments_rule_range_change:function(){var t=M(this),e=t.val(),n=parseFloat(e.replace(/-/g,"").replace(/:/g,"."),10),a=t.attr("class"),i=t.closest(".range_from").length?"from":"to",o="from"==i?"to":"from",_=t.closest("tr").find(".range_type select").val(),p=t.closest("tr").find(".appointments-datetime-select-"+o).find('[class^="'+a+'"]'),s=p.val(),c=parseFloat(s.replace(/-/g,"").replace(/:/g,"."),10),r="from"==i?t:p,d="from"==i?n:c,l="to"==i?t:p,m="to"==i?n:c;if(c)if("custom:daterange"===_||"time:range"===_){var w=t.closest("tr").find(".from_date input"),f=w.val(),u=parseFloat(f.replace(/-/g,"")),h=t.closest("tr").find(".from_time input"),g=h.val(),v=parseFloat(g.replace(/:/g,".")),y=t.closest("tr").find(".to_date input"),b=y.val(),k=parseFloat(b.replace(/-/g,"")),x=t.closest("tr").find(".to_time input"),j=x.val(),C=parseFloat(j.replace(/:/g,".")),q="to"==i?x:h,I="to"==i?h:x,O="to"==i?y:w,F="to"==i?w:y;t.hasClass("time-picker")?"time:range"===_&&C<v?S.wc_appointments_input_animate(q,I,!0):k<=u&&C<v?S.wc_appointments_input_animate(q,I,!0):k<u?S.wc_appointments_input_animate(q,F,!0):S.wc_appointments_input_animate(q,I):t.hasClass("date-picker")&&("time:range"===_&&C<v?S.wc_appointments_input_animate(O,I,!0):k<u?S.wc_appointments_input_animate(O,F,!0):C<v&&u===k?S.wc_appointments_input_animate(O,I,!0):S.wc_appointments_input_animate(O))}else m<d?"from"==i?(l.val(e),S.wc_appointments_input_animate(t,l)):S.wc_appointments_input_animate(t,r,!0):S.wc_appointments_input_animate(t);else p.val(e),S.wc_appointments_input_animate(t,p);return!1},wc_appointments_input_animate:function(t,e,n){t.parents("tr").find("select, input").stop().css({outlineWidth:"0"}),e&&(e.stop().css({outlineWidth:"0"}),n?e.stop().css({outlineOffset:"-1px",outlineStyle:"solid",outlineColor:"red",outlineWidth:"1px"}):e.stop().css({outlineOffset:"-1px",outlineStyle:"solid",outlineColor:"black",outlineWidth:"1px"}).animate({outlineWidth:"0"},500,"linear"))},wc_appointments_pickers:function(){return M(".date-picker").datepicker({dateFormat:"yy-mm-dd",numberOfMonths:1,showOtherMonths:!0,changeMonth:!0,showButtonPanel:!0,showOn:"button",firstDay:wc_appointments_writepanel_js_params.firstday,buttonText:'<span class="dashicons dashicons-calendar-alt"></span>'}),M("#_wc_appointment_cal_color").wpColorPicker(),!1},wc_appointments_table_grid:function(){var t=M(this).val(),e=M(this).closest("tr"),n=M(e);return n.find(".from_date, .from_day_of_week, .from_month, .from_week, .from_time, .from").hide(),n.find(".to_date, .to_day_of_week, .to_month, .to_week, .to_time, .to, .on_date").hide(),n.find(".repeating-label").hide(),n.find(".appointments-datetime-select-to").removeClass("appointments-datetime-select-both"),n.find(".appointments-datetime-select-from").removeClass("appointments-datetime-select-both"),n.find(".rrule").hide(),"custom"===t&&n.find(".from_date, .to_date").show(),"custom:daterange"===t&&(n.find(".from_time, .to_time").show(),n.find(".from_date, .to_date").show(),n.find(".appointments-datetime-select-to").addClass("appointments-datetime-select-both"),n.find(".appointments-datetime-select-from").addClass("appointments-datetime-select-both")),"months"===t&&n.find(".from_month, .to_month").show(),"weeks"===t&&n.find(".from_week, .to_week").show(),"days"===t&&n.find(".from_day_of_week, .to_day_of_week").show(),t.match("^time")&&(n.find(".from_time, .to_time").show(),"time:range"===t&&(n.find(".from_date, .to_date").show(),n.find(".repeating-label").show(),n.find(".appointments-datetime-select-to").addClass("appointments-datetime-select-both"),n.find(".appointments-datetime-select-from").addClass("appointments-datetime-select-both"))),"duration"!==t&&"slots"!==t&&"quant"!==t||n.find(".from, .to").show(),"rrule"===t&&n.find(".rrule").show(),!1},wc_appointments_table_grid_focus:function(t){var e=M("body"),n=M(this).closest("table, tbody"),a=M(this).closest("tr");return("focus"===t.type||"focusin"===t.type||"click"===t.type&&M(this).is(":focus"))&&(M("tr",n).removeClass("current").removeClass("last_selected"),a.addClass("current").addClass("last_selected"),e.addClass("row_highlighted")),!1},wc_appointments_sortable_rows:function(){return M("#availability_rows, #pricing_rows").sortable({items:"tr",cursor:"move",axis:"y",handle:".sort",scrollSensitivity:40,forcePlaceholderSize:!0,helper:"clone",opacity:.65,placeholder:{element:function(){return M('<tr class="wc-metabox-sortable-placeholder"><td colspan=99>&nbsp;</td></tr>')[0]},update:function(){}},start:function(t,e){e.item.css("background-color","#f6f6f6")},stop:function(t,e){e.item.prop("style",!1),e.item.show()}}),M(".woocommerce_appointable_staff").sortable({items:".woocommerce_appointment_staff",cursor:"move",axis:"y",handle:"h3",scrollSensitivity:40,forcePlaceholderSize:!0,helper:"clone",opacity:.65,placeholder:"wc-metabox-sortable-placeholder",start:function(t,e){e.item.css("background-color","#f6f6f6")},stop:function(t,e){e.item.prop("style",!1),S.staff_row_indexes()}}),!1},wc_appointments_row_added:function(){return M(".wc_appointment_availability_type select, .wc_appointment_pricing_type select").trigger("change"),M(".date-picker").datepicker({dateFormat:"yy-mm-dd",numberOfMonths:1,showOtherMonths:!0,changeMonth:!0,showButtonPanel:!0,showOn:"button",firstDay:wc_appointments_writepanel_js_params.firstday,buttonText:'<span class="dashicons dashicons-calendar-alt"></span>'}),!1},wc_appointments_trigger_change_events:function(){return M(".wc_appointment_availability_type select, .wc_appointment_availability_type input, .wc_appointment_pricing_type select, #_wc_appointment_user_can_cancel, #_wc_appointment_user_can_reschedule, #_wc_appointment_has_price_label, #_wc_appointment_has_pricing, #_wc_appointment_duration_unit, #_wc_appointment_staff_assignment, #_stock, #_wc_appointment_qty, #_wc_appointment_qty_min, #_wc_appointment_qty_max, #_wc_appointment_has_restricted_days").trigger("change"),!1},wc_appointments_user_cancel:function(){return M(this).is(":checked")?M(".form-field.appointment-cancel-limit").show():M(".form-field.appointment-cancel-limit").hide(),!1},wc_appointments_user_reschedule:function(){return M(this).is(":checked")?M(".form-field.appointment-reschedule-limit").show():M(".form-field.appointment-reschedule-limit").hide(),!1},wc_appointments_qty:function(){var t=parseInt(M(this).val(),10),e=parseInt(M("#_wc_appointment_qty_min").val(),10),n=parseInt(M("#_wc_appointment_qty_max").val(),10);return 1<t?(M(".form-field._wc_appointment_customer_qty_wrap").show(),M("#_wc_appointment_qty_min").prop("max",t),M("#_wc_appointment_qty_max").prop("max",t)):M(".form-field._wc_appointment_customer_qty_wrap").hide(),t<e&&M("#_wc_appointment_qty_min").val(t),t<n&&M("#_wc_appointment_qty_max").val(t),!1},wc_appointments_qty_min:function(){var t=parseInt(M(this).val(),10);return parseInt(M("#_wc_appointment_qty_max").val(),10)<t&&M("#_wc_appointment_qty_max").val(t),!1},wc_appointments_qty_max:function(){var t=parseInt(M(this).val(),10);return t<parseInt(M("#_wc_appointment_qty_min").val(),10)&&M("#_wc_appointment_qty_min").val(t),!1},wc_appointments_price_show:function(){return"appointment"===M("select#product-type").val()&&(M(".options_group.pricing").show(),M(".options_group.wcpbc_pricing").show()),M(".options_group.pricing").addClass("show_if_appointment"),M(".options_group.wcpbc_pricing").addClass("show_if_appointment"),!1},wc_appointments_inventory_show:function(){return"appointment"===M("select#product-type").val()&&(M(".stock_fields").hide(),M(".stock_fields").addClass("hide_if_appointment"),M("._stock_status_field").hide(),M("._stock_status_field").addClass("hide_if_appointment"),M("._sold_individually_field").parents(".options_group").show(),M("._sold_individually_field").parents(".options_group").addClass("show_if_appointment"),M("#inventory_product_data ._sold_individually_field").show(),M("#inventory_product_data ._sold_individually_field").addClass("show_if_appointment")),!1},wc_appointments_disable_hide:function(){var t=M("select#product-type").val();return"appointment"!==t&&void 0!==t?M("body").find(".disabled_if_appointment").prop("hidden",!1).prop("disabled",!1):M("body").find(".disabled_if_appointment").prop("hidden",!0).prop("disabled",!0),!1},wc_appointments_addon_style:function(){var t=M("select#product-type").val();return"appointment"!==t&&void 0!==t?M("body").find(".wc-pao-addon-content-option-rows").removeClass("style_if_appointment"):M("body").find(".wc-pao-addon-content-option-rows").addClass("style_if_appointment"),!1},wc_appointments_virtual_default:function(){var t=M("select#product-type").val(),e=M("body").find("input#_virtual"),n=M("body").hasClass("post-new-php"),a=e.attr("checked");return n&&("appointment"===t?e.prop("checked",!0):"checked"===a?e.prop("checked",!0):e.prop("checked",!1)),!1},wc_appointments_twilio_sms:function(){return M(".wc_twilio_sms_enable").each(function(){var t=M(this).data("notification");M(this).on("change",function(){M(this).is(":checked")?(M("input#wc_twilio_sms_appointments_"+t+"_recipients").closest("tr").show(),M("input#wc_twilio_sms_appointments_"+t+"_schedule_number").closest("tr").show(),M("textarea#wc_twilio_sms_appointments_"+t+"_template").closest("tr").show()):(M("input#wc_twilio_sms_appointments_"+t+"_recipients").closest("tr").hide(),M("input#wc_twilio_sms_appointments_"+t+"_schedule_number").closest("tr").hide(),M("textarea#wc_twilio_sms_appointments_"+t+"_template").closest("tr").hide())}).trigger("change")}),M("#wc-twilio-sms-appointments-data .wc-metaboxes-wrapper").on("click",".expand_all",function(){return M(this).closest(".wc-metaboxes-wrapper").find(".wc-metabox > .wc-metabox-content").show(),!1}).on("click",".close_all",function(){return M(this).closest(".wc-metaboxes-wrapper").find(".wc-metabox > .wc-metabox-content").hide(),!1}),M(".wc_twilio_sms_notification_toggle").each(function(){var t=M(this).data("notification"),e=M("input#wc_twilio_sms_appointments_"+t+"_schedule_number");M(this).on("change",function(){"override"===M(this).find("option:selected").val()?(e.closest("p").show(),e.closest("p").next(".wc-twilio-sms-post-field").show(),M("textarea#wc_twilio_sms_appointments_"+t+"_template").closest("p").show()):(e.closest("p").hide(),e.closest("p").next(".wc-twilio-sms-post-field").hide(),M("textarea#wc_twilio_sms_appointments_"+t+"_template").closest("p").hide())}).trigger("change")}),!1},wc_appointments_addon_adjust_duration:function(){M(this).is(":checked")?M(this).parents(".wc-pao-addon-adjust-duration-container").find(".wc-pao-addon-adjust-duration-settings").removeClass("hide").addClass("show"):M(this).parents(".wc-pao-addon-adjust-duration-container").find(".wc-pao-addon-adjust-duration-settings").removeClass("show").addClass("hide")},wc_appointments_addon_type:function(){var t=M(this).val(),e=M(this).parents(".wc-pao-addon");switch(t){case"multiple_choice":case"checkbox":e.find(".wc-pao-addon-hide_duration-setting").removeClass("hide").addClass("show"),e.find(".wc-pao-addon-hide_price-setting").removeClass("hide").addClass("show"),e.find(".wc-pao-addon-adjust-duration-container").removeClass("show").addClass("hide");break;case"heading":case"custom_price":e.find(".wc-pao-addon-adjust-duration-container").removeClass("show").addClass("hide");break;default:e.find(".wc-pao-addon-hide_duration-setting").removeClass("show").addClass("hide"),e.find(".wc-pao-addon-hide_price-setting").removeClass("show").addClass("hide"),e.find(".wc-pao-addon-adjust-duration-container").removeClass("hide").addClass("show")}return!1},wc_appointments_addon_label:function(){var t=M("select#product-type").val(),e=void 0!==t;return"appointment"!==t&&e?(M("body").find(".wc-pao-addon-content-option-rows").removeClass("style_if_appointment"),M("body").find(".wc-pao-addon-content-non-option-rows").removeClass("style_if_appointment")):(M("body").find(".wc-pao-addon-content-option-rows").addClass("style_if_appointment"),M("body").find(".wc-pao-addon-content-non-option-rows").addClass("style_if_appointment")),"appointment"!==t&&e?M(".show_if_appointment").hide():M(".show_if_appointment").show(),!1},wc_appointments_price_label:function(){return M(this).is(":checked")?M(".form-field._wc_appointment_price_label_field").show():M(".form-field._wc_appointment_price_label_field").hide(),!1},wc_appointments_pricing:function(){return M(this).is(":checked")?M("#appointments_pricing").show():M("#appointments_pricing").hide(),!1},wc_appointments_staff_assignment:function(){return"customer"===M(this).val()?(M(".form-field._wc_appointment_staff_label_field").show(),M(".form-field._wc_appointment_staff_nopref_field").show()):(M(".form-field._wc_appointment_staff_label_field").hide(),M(".form-field._wc_appointment_staff_nopref_field").hide()),!1},wc_appointment_duration_unit:function(){switch(M(this).val()){case"month":M(".form-field._wc_appointment_interval_duration_wrap").hide(),M(".form-field._wc_appointment_padding_duration_wrap").hide(),M(".form-field._wc_appointment_customer_timezones_field").hide();break;case"day":M(".form-field._wc_appointment_interval_duration_wrap").hide(),M(".form-field._wc_appointment_padding_duration_wrap").show(),M(".form-field._wc_appointment_customer_timezones_field").hide(),M('#_wc_appointment_padding_duration_unit option[value="minute"]').hide(),M('#_wc_appointment_padding_duration_unit option[value="hour"]').hide(),M('#_wc_appointment_padding_duration_unit option[value="day"]').show(),M("#_wc_appointment_padding_duration_unit").val("day");break;default:M(".form-field._wc_appointment_interval_duration_wrap").show(),M(".form-field._wc_appointment_padding_duration_wrap").show(),M(".form-field._wc_appointment_customer_timezones_field").show(),M('#_wc_appointment_padding_duration_unit option[value="minute"]').show(),M('#_wc_appointment_padding_duration_unit option[value="hour"]').show(),M('#_wc_appointment_padding_duration_unit option[value="day"]').hide()}return!1},wc_appointment_restricted_days:function(){return M(this).is(":checked")?M(".appointment-day-restriction").show():M(".appointment-day-restriction").hide(),!1},wc_appointments_table_grid_add_row:function(t){var e=M(t.target).closest("table").find("#pricing_rows tr").length,n=M(this).data("row");return n=(n=(n=(n=(n=(n=(n=n.replace(/appointments_cost_js_index_replace/gi,e.toString())).replace(/wc_appointment_availability_id.+/,'wc_appointment_availability_id[]" value="" />')).replace(/wc_appointment_availability_kind_id.+/,'wc_appointment_availability_kind_id[]" value="" />')).replace(/wc_appointment_availability_event_id.+/,'wc_appointment_availability_event_id[]" value="" />')).replace(/data-id=.+/,'data-id="">')).replace(/wc_appointment_availability_title.+/,'wc_appointment_availability_title[]" value="" />')).replace(/wc_appointment_availability_priority.+/,'wc_appointment_availability_priority[]" value="10" placeholder="10" />'),M(t.target).closest("table").find("tbody").append(n),M("body").trigger("row_added"),!1},wc_appointments_table_grid_remove_row:function(t){var e=M(t.target).closest("tr"),n=e.data("id"),a=M(".wc-appointment-availability-deleted").val(),i=a+(a?", ":"")+n;return M(".wc-appointment-availability-deleted").val(i),e.remove(),!1},wc_appointments_manual_sync:function(){var e=M(this).closest("td"),t=M(this).attr("data-staff");M(e).block({message:null});var n={action:"woocommerce_manual_sync",staff_id:t,security:wc_appointments_writepanel_js_params.nonce_manual_sync};M.post(wc_appointments_writepanel_js_params.ajax_url,n,function(t){t.error?alert(t.error):M(".last_synced").html(t.html),M(e).unblock()})},wc_appointments_oauth_redirect:function(){var e=M(this).closest("td"),t=M(this).attr("data-staff"),n=M(this).attr("data-logout");M(e).block({message:null});var a={action:"woocommerce_oauth_redirect",staff_id:t,logout:n,security:wc_appointments_writepanel_js_params.nonce_oauth_redirect};M.post(wc_appointments_writepanel_js_params.ajax_url,a,function(t){t.error?alert(t.error):top.location.replace(t.uri),M(e).unblock()})},wc_appointments_add_staff:function(){var t=M(".woocommerce_appointment_staff").length,e=parseInt(M("select#add_staff_id").val(),10);M(".woocommerce_appointable_staff").block({message:null});var n={action:"woocommerce_add_appointable_staff",post_id:wc_appointments_writepanel_js_params.post,loop:t,add_staff_id:e,add_staff_name:"",security:wc_appointments_writepanel_js_params.nonce_add_staff};return M.post(wc_appointments_writepanel_js_params.ajax_url,n,function(t){t.error?(alert(t.error),M(".woocommerce_appointable_staff").unblock()):(M(".woocommerce_appointable_staff").append(t.html).unblock(),M(".woocommerce_appointable_staff").sortable("refresh"))}),!1},wc_appointments_remove_staff:function(t){if(t.preventDefault(),confirm(wc_appointments_writepanel_js_params.i18n_confirmation)){var e=M(this).parent().parent(),n=M(this).attr("rel");M(e).block({message:null});var a={action:"woocommerce_remove_appointable_staff",post_id:wc_appointments_writepanel_js_params.post,staff_id:n,security:wc_appointments_writepanel_js_params.nonce_delete_staff};M.post(wc_appointments_writepanel_js_params.ajax_url,a,function(){M(e).fadeOut("300",function(){M(e).remove()})})}return!1},wc_appointments_add_product:function(){var e=parseInt(M("select#add_product_id").val(),10),t=parseInt(M("select#add_product_id").attr("data-staff")),n=M("#wc_appointments_staff_product_ids").val();M(".woocommerce_staff_products").block({message:null});var a={action:"woocommerce_add_staff_product",staff_id:t,assigned_products:n,add_product_id:e,add_product_name:"",security:wc_appointments_writepanel_js_params.nonce_add_product};return M.post(wc_appointments_writepanel_js_params.ajax_url,a,function(t){t.error?(alert(t.error),M(".woocommerce_staff_products").unblock()):(M(".woocommerce_staff_products").append(t.html).unblock(),M("#wc_appointments_staff_product_ids").val(n+","+e))}),!1},wc_appointments_remove_product:function(t){if(t.preventDefault(),confirm(wc_appointments_writepanel_js_params.i18n_confirmation)){var e=M(this).parent(),n=M(this).attr("data-product"),a=M(this).attr("data-staff"),i=M("#wc_appointments_staff_product_ids").val().replace(new RegExp(",?"+n+",?"),function(t){var e=","===t.charAt(0),n=","===t.charAt(t.length-1);return e&&n?",":""});M("#wc_appointments_staff_product_ids").val(i),M(e).block({message:null});var o={action:"woocommerce_remove_appointable_staff",post_id:n,staff_id:a,security:wc_appointments_writepanel_js_params.nonce_delete_staff};M.post(wc_appointments_writepanel_js_params.ajax_url,o,function(){M(e).fadeOut("300",function(){M(e).remove()})})}return!1},staff_row_indexes:function(){return M(".woocommerce_appointable_staff .woocommerce_appointment_staff").each(function(t,e){M(".staff_menu_order",e).val(parseInt(M(e).index(".woocommerce_appointable_staff .woocommerce_appointment_staff"),10))}),!1},wc_appointments_exporter_title_action:function(){var t=M(".edit-php.post-type-wc_appointment"),e=t.find(".page-title-action:first");0===t.find(".woocommerce-BlankState").length?wc_appointments_writepanel_js_params.exporter.permission&&e.after('<a href="'+wc_appointments_writepanel_js_params.exporter.url+'" class="page-title-action">'+wc_appointments_writepanel_js_params.exporter.string+"</a>"):e.hide()},wc_appointments_add_appointment_actions:function(){M("#appointment_order_id").filter(":not(.enhanced)").each(function(){var t={allowClear:!0,placeholder:M(this).data("placeholder"),minimumInputLength:1,escapeMarkup:function(t){return t},ajax:{url:wc_appointments_writepanel_js_params.ajax_url,dataType:"json",quietMillis:250,data:function(t){return{term:t.term,action:"wc_appointments_json_search_order",security:wc_appointments_writepanel_js_params.nonce_appointment_order}},processResults:function(t){var n=[];return t&&M.each(t,function(t,e){n.push({id:t,text:e})}),{results:n}},cache:!0},multiple:!1};M(this).select2(t).addClass("enhanced")}),M(function(){var t=M(".appointment-order-label-select"),e=M("tr.billing_row");M(".appointment-order-selector").on("change",function(){"existing"===M(this).val()?(t.show(),e.hide()):(t.hide(),e.show())})})},wc_appointments_edit_billing:function(t){t.preventDefault();var e=M(this),n=e.closest(".billing_row"),a=n.find("div.edit_billing"),i=n.find("p.none_set"),o=a.find(".js_field-country"),_=a.find(".js_field-state");return e.parent().find("a").toggle(),o.val()||(o.val(wc_appointments_writepanel_js_params.billing.default_country).trigger("change"),_.val(wc_appointments_writepanel_js_params.billing.default_state).trigger("change")),i.toggle(),a.toggle(),!1}};S.init()});